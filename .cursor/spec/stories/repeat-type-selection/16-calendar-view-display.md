---
epic: repeat-type-selection
test_suite: 달력 뷰에서 반복 일정 표시
---

# Story: 달력 뷰에서 반복 일정 표시

## 개요

달력 뷰에서 반복 일정을 생성 규칙에 따라 해당하는 모든 날짜에 표시합니다.

## Epic 연결

- **Epic**: 반복 유형 선택
- **Epic 파일**: `.cursor/spec/epics/repeat-type-selection.md`
- **검증 포인트**: Epic의 "예상 동작" 섹션 16번에서 추출

## 테스트 구조 및 범위

이 Story가 작성될 테스트 코드의 논리적 계층 구조를 명시합니다.

- **테스트 스위트 (Describe Block):** '달력 뷰에서 반복 일정 표시'
  - **테스트 케이스 1:** '매일 반복 일정이 주간 뷰의 모든 날짜에 표시됨'
  - **테스트 케이스 2:** '매주 월요일 반복 일정이 월간 뷰의 모든 월요일에 표시됨'
  - **테스트 케이스 3:** '31일 매월 반복 일정이 2월 월간 뷰에는 표시되지 않음'
  - **테스트 케이스 4:** '각 날짜의 일정이 독립적으로 렌더링됨'

## 검증 포인트 (Given-When-Then)

Epic에서 가져온 모든 검증 포인트를 명시합니다.

### 검증 포인트 1: 매일 반복 주간 뷰

```
Given: 2024-01-01부터 매일 반복 일정
When: 주간 뷰를 확인
Then: 해당 주의 모든 날짜에 일정이 표시됨
```

### 검증 포인트 2: 매주 월요일 월간 뷰

```
Given: 매주 월요일 반복 일정
When: 월간 뷰를 확인
Then: 해당 월의 모든 월요일에 일정이 표시됨
```

### 검증 포인트 3: 31일 특수 케이스

```
Given: 31일 매월 반복 일정
When: 2024년 2월 월간 뷰를 확인
Then: 2월에는 일정이 표시되지 않음 (31일 없음)
```

## 테스트 데이터

테스트에서 사용할 구체적인 데이터를 명시합니다.

### 매일 반복 (2024-01-01 시작, 간격 1)

| 뷰 타입 | 표시 기간          | 표시될 날짜                                     |
| ------- | ------------------ | ----------------------------------------------- |
| 주간    | 2024-01-01 ~ 01-07 | 01-01, 01-02, 01-03, 01-04, 01-05, 01-06, 01-07 |
| 월간    | 2024-01-01 ~ 01-31 | 1월의 모든 날짜 (1일 ~ 31일)                    |

### 매주 월요일 반복 (2024-01-01 시작)

| 뷰 타입 | 표시 기간          | 표시될 날짜 (월요일)              |
| ------- | ------------------ | --------------------------------- |
| 월간    | 2024-01-01 ~ 01-31 | 01-01, 01-08, 01-15, 01-22, 01-29 |
| 월간    | 2024-02-01 ~ 02-29 | 02-05, 02-12, 02-19, 02-26        |

### 31일 매월 반복 (2024-01-31 시작)

| 뷰 타입 | 표시 기간 (월) | 표시 여부 | 표시될 날짜 |
| ------- | -------------- | --------- | ----------- |
| 월간    | 2024년 1월     | ✓         | 01-31       |
| 월간    | 2024년 2월     | ✗         | (없음)      |
| 월간    | 2024년 3월     | ✓         | 03-31       |

## 기술 참고사항

### 렌더링 로직

- 반복 일정은 생성 규칙에 따라 해당하는 모든 날짜에 표시된다.
- 각 날짜의 일정은 독립적으로 렌더링된다.
- 뷰 전환 시 표시 중인 범위 내의 반복 일정만 계산한다.

### 성능 최적화

- 필요 시점에 반복 일정을 계산 (lazy evaluation)
- 현재 표시 중인 범위만 계산하여 메모리 효율성 확보
- 뷰 변경 시 해당 범위의 일정만 다시 계산

### 동작 명세

- 반복 일정은 생성 규칙에 따라 해당하는 모든 날짜에 표시된다.
- 각 날짜의 일정은 독립적으로 렌더링된다.
- 존재하지 않는 날짜(31일 매월 반복의 2월 등)는 표시되지 않는다.

---
