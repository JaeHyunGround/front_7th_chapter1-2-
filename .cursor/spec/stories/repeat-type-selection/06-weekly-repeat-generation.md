---
epic: repeat-type-selection
test_suite: 매주 반복 생성
---

# Story: 매주 반복 생성

## 개요

시작일부터 종료일까지 지정된 간격으로 동일 요일에 반복되는 일정을 생성합니다.

## Epic 연결

- **Epic**: 반복 유형 선택
- **Epic 파일**: `.cursor/spec/epics/repeat-type-selection.md`
- **검증 포인트**: Epic의 "예상 동작" 섹션 6번에서 추출

## 테스트 구조 및 범위

이 Story가 작성될 테스트 코드의 논리적 계층 구조를 명시합니다.

- **테스트 스위트 (Describe Block):** '매주 반복 생성'
  - **테스트 케이스 1:** '간격 1로 매주 반복 시 매주 동일 요일에 일정이 생성됨'
  - **테스트 케이스 2:** '간격 2로 매주 반복 시 격주 동일 요일에 일정이 생성됨'
  - **테스트 케이스 3:** '일요일에 시작한 매주 반복 시 매주 일요일에 일정이 생성됨'

## 검증 포인트 (Given-When-Then)

Epic에서 가져온 모든 검증 포인트를 명시합니다.

### 검증 포인트 1: 매주 반복 (월요일)

```
Given: 시작일 2024-01-01 (월요일), 반복 유형 매주, 간격 1
When: 일정을 생성
Then: 2024-01-01, 2024-01-08, 2024-01-15, ... 매주 월요일마다 생성
```

### 검증 포인트 2: 격주 반복 (월요일)

```
Given: 시작일 2024-01-01 (월요일), 반복 유형 매주, 간격 2
When: 일정을 생성
Then: 2024-01-01, 2024-01-15, 2024-01-29, ... 격주 월요일마다 생성
```

### 검증 포인트 3: 매주 반복 (일요일)

```
Given: 시작일 2024-01-07 (일요일), 반복 유형 매주, 간격 1
When: 일정을 생성
Then: 2024-01-07, 2024-01-14, 2024-01-21, ... 매주 일요일마다 생성
```

## 테스트 데이터

테스트에서 사용할 구체적인 데이터를 명시합니다.

| 시작일     | 요일   | 간격 | 생성될 날짜 (예시)              | 비고    |
| ---------- | ------ | ---- | ------------------------------- | ------- |
| 2024-01-01 | 월요일 | 1    | 2024-01-01, 08, 15, 22, 29, ... | 매주    |
| 2024-01-01 | 월요일 | 2    | 2024-01-01, 15, 29, 02-12, ...  | 격주    |
| 2024-01-07 | 일요일 | 1    | 2024-01-07, 14, 21, 28, ...     | 매주    |
| 2024-01-03 | 수요일 | 3    | 2024-01-03, 24, 02-14, ...      | 3주마다 |

## 기술 참고사항

### 관련 타입

```typescript
type RepeatType = 'none' | 'daily' | 'weekly' | 'monthly' | 'yearly';

interface RepeatInfo {
  type: RepeatType;
  interval: number;
  endDate?: string;
}
```

### 생성 알고리즘

```
시작일에서 시작
종료일까지 또는 표시 범위까지:
  현재 날짜에 일정 생성
  현재 날짜 += interval주 (7 * interval일)
```

### 동작 명세

- 시작일부터 종료일까지 매 N주마다 동일 요일에 일정을 생성한다.
- N은 반복 간격이다.
- 시작일의 요일이 유지된다.

---
