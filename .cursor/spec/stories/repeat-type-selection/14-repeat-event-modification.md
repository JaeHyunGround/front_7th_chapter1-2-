---
epic: repeat-type-selection
test_suite: 반복 일정 수정
---

# Story: 반복 일정 수정

## 개요

기존 반복 일정을 수정할 때 전체 시리즈가 동일하게 수정되며, 개별 인스턴스만 수정하는 기능은 지원하지 않습니다.

## Epic 연결

- **Epic**: 반복 유형 선택
- **Epic 파일**: `.cursor/spec/epics/repeat-type-selection.md`
- **검증 포인트**: Epic의 "예상 동작" 섹션 14번에서 추출

## 테스트 구조 및 범위

이 Story가 작성될 테스트 코드의 논리적 계층 구조를 명시합니다.

- **테스트 스위트 (Describe Block):** '반복 일정 수정'
  - **테스트 케이스 1:** '반복 유형을 변경하면 전체 시리즈가 재생성됨'
  - **테스트 케이스 2:** '반복 체크박스를 해제하면 단일 일정으로 전환됨'
  - **테스트 케이스 3:** '일정 제목을 수정하면 모든 반복 인스턴스의 제목이 변경됨'
  - **테스트 케이스 4:** '반복 간격을 변경하면 전체 시리즈가 재생성됨'

## 검증 포인트 (Given-When-Then)

Epic에서 가져온 모든 검증 포인트를 명시합니다.

### 검증 포인트 1: 반복 유형 변경

```
Given: 기존 반복 일정 (매주)
When: 일정을 편집하여 반복 유형을 매월로 변경
Then: repeat.type이 'monthly'로 변경되고 전체 시리즈가 재생성됨
```

### 검증 포인트 2: 반복 비활성화

```
Given: 기존 반복 일정
When: 일정을 편집하여 반복 체크박스 해제
Then: repeat.type이 'none'이 되고 단일 일정이 됨
```

### 검증 포인트 3: 제목 수정

```
Given: 기존 반복 일정
When: 일정 제목을 수정
Then: 모든 반복 인스턴스의 제목이 동일하게 변경됨
```

## 테스트 데이터

테스트에서 사용할 구체적인 데이터를 명시합니다.

### 수정 시나리오

| 기존 설정              | 수정 내용           | 예상 결과                                     |
| ---------------------- | ------------------- | --------------------------------------------- |
| 매주 반복, 간격 1      | 반복 유형 → 매월    | repeat.type이 'monthly'로 변경, 시리즈 재생성 |
| 매일 반복, 간격 1      | 반복 체크박스 해제  | repeat.type이 'none', 단일 일정으로 전환      |
| 매월 반복, 제목 "회의" | 제목 → "팀 회의"    | 모든 반복 인스턴스 제목이 "팀 회의"로 변경    |
| 매주 반복, 간격 1      | 간격 → 2            | interval이 2로 변경, 시리즈 재생성            |
| 매일 반복, 종료일 없음 | 종료일 → 2024-12-31 | endDate가 '2024-12-31'로 설정, 시리즈 재생성  |

## 기술 참고사항

### 관련 타입

```typescript
interface RepeatInfo {
  type: RepeatType;
  interval: number;
  endDate?: string;
}

interface Event {
  id: string;
  title: string;
  date: string;
  startTime: string;
  endTime: string;
  description: string;
  location: string;
  category: string;
  repeat: RepeatInfo;
  notificationTime: number;
}
```

### 동작 명세

- 기존 반복 일정을 수정하면 전체 시리즈가 동일하게 수정된다.
- 개별 인스턴스만 수정하는 기능은 지원하지 않는다.
- 반복 설정(유형, 간격, 종료일)을 변경하면 전체 시리즈가 재생성된다.
- 일정 내용(제목, 시간, 설명 등)을 변경하면 모든 반복 인스턴스가 동일하게 변경된다.

### 제약사항

- **개별 수정 미지원**: 특정 날짜의 반복 인스턴스만 수정할 수 없음
- **전체 수정**: 항상 전체 시리즈가 함께 수정됨

---
