---
epic: repeat-type-selection
test_suite: 매월 반복 생성 - 일반 케이스
---

# Story: 매월 반복 생성 - 일반 케이스

## 개요

시작일부터 종료일까지 지정된 간격으로 동일 날짜에 매월 반복되는 일정을 생성합니다. (일반적인 날짜: 1~28일)

## Epic 연결

- **Epic**: 반복 유형 선택
- **Epic 파일**: `.cursor/spec/epics/repeat-type-selection.md`
- **검증 포인트**: Epic의 "예상 동작" 섹션 7번에서 추출

## 테스트 구조 및 범위

이 Story가 작성될 테스트 코드의 논리적 계층 구조를 명시합니다.

- **테스트 스위트 (Describe Block):** '매월 반복 생성 - 일반 케이스'
  - **테스트 케이스 1:** '간격 1로 매월 15일 반복 시 매월 15일에 일정이 생성됨'
  - **테스트 케이스 2:** '간격 2로 매월 15일 반복 시 격월 15일에 일정이 생성됨'
  - **테스트 케이스 3:** '간격 3으로 매월 15일 반복 시 분기마다 15일에 일정이 생성됨'

## 검증 포인트 (Given-When-Then)

Epic에서 가져온 모든 검증 포인트를 명시합니다.

### 검증 포인트 1: 매월 반복

```
Given: 시작일 2024-01-15, 반복 유형 매월, 간격 1
When: 일정을 생성
Then: 2024-01-15, 2024-02-15, 2024-03-15, ... 매월 15일에 생성
```

### 검증 포인트 2: 격월 반복

```
Given: 시작일 2024-01-15, 반복 유형 매월, 간격 2
When: 일정을 생성
Then: 2024-01-15, 2024-03-15, 2024-05-15, ... 격월 15일에 생성
```

### 검증 포인트 3: 분기 반복

```
Given: 시작일 2024-01-15, 반복 유형 매월, 간격 3
When: 일정을 생성
Then: 2024-01-15, 2024-04-15, 2024-07-15, ... 분기마다 15일에 생성
```

## 테스트 데이터

테스트에서 사용할 구체적인 데이터를 명시합니다.

| 시작일     | 간격 | 생성될 날짜 (예시)                                         | 비고     |
| ---------- | ---- | ---------------------------------------------------------- | -------- |
| 2024-01-15 | 1    | 2024-01-15, 02-15, 03-15, 04-15, ...                       | 매월     |
| 2024-01-15 | 2    | 2024-01-15, 03-15, 05-15, 07-15, ...                       | 격월     |
| 2024-01-15 | 3    | 2024-01-15, 04-15, 07-15, 10-15, ...                       | 분기     |
| 2024-02-28 | 1    | 2024-02-28, 03-28, 04-28, 05-28, ... (모든 달에 28일 있음) | 2월 28일 |
| 2024-01-01 | 1    | 2024-01-01, 02-01, 03-01, 04-01, ...                       | 1일      |

## 기술 참고사항

### 관련 타입

```typescript
type RepeatType = 'none' | 'daily' | 'weekly' | 'monthly' | 'yearly';

interface RepeatInfo {
  type: RepeatType;
  interval: number;
  endDate?: string;
}
```

### 생성 알고리즘

```
시작일에서 시작
종료일까지 또는 표시 범위까지:
  if 현재 년/월에 시작일의 day가 존재:
    현재 날짜에 일정 생성
  현재 월 += interval개월
```

### 동작 명세

- 시작일부터 종료일까지 매 N개월마다 동일 날짜에 일정을 생성한다.
- N은 반복 간격이다.
- 해당 날짜가 존재하지 않는 달은 건너뛴다. (특수 케이스는 별도 Story)

---
