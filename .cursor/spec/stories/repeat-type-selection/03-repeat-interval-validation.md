---
epic: repeat-type-selection
test_suite: 반복 간격 입력 검증
---

# Story: 반복 간격 입력 검증

## 개요

반복 간격 입력 필드의 유효성을 검증하여 1 이상의 정수만 허용하고, 유효하지 않은 입력에 대해 적절한 오류 메시지를 표시합니다.

## Epic 연결

- **Epic**: 반복 유형 선택
- **Epic 파일**: `.cursor/spec/epics/repeat-type-selection.md`
- **검증 포인트**: Epic의 "예상 동작" 섹션 3번에서 추출

## 테스트 구조 및 범위

이 Story가 작성될 테스트 코드의 논리적 계층 구조를 명시합니다.

- **테스트 스위트 (Describe Block):** '반복 간격 입력 검증'
  - **테스트 케이스 1:** '1을 입력하면 유효한 값으로 인정됨'
  - **테스트 케이스 2:** '0을 입력하면 "반복 간격은 1 이상이어야 합니다." 오류 표시'
  - **테스트 케이스 3:** '-1을 입력하면 "반복 간격은 1 이상이어야 합니다." 오류 표시'
  - **테스트 케이스 4:** '1.5를 입력하면 "반복 간격은 정수여야 합니다." 오류 표시'
  - **테스트 케이스 5:** '오류가 있는 상태에서 일정 추가 버튼 클릭 시 일정이 저장되지 않음'

## 검증 포인트 (Given-When-Then)

Epic에서 가져온 모든 검증 포인트를 명시합니다.

### 검증 포인트 1: 유효한 값

```
Given: 반복 간격 입력 필드
When: 1을 입력
Then: 유효한 값으로 인정됨
```

### 검증 포인트 2: 0 입력

```
Given: 반복 간격 입력 필드
When: 0을 입력
Then: "반복 간격은 1 이상이어야 합니다." 오류 표시
```

### 검증 포인트 3: 음수 입력

```
Given: 반복 간격 입력 필드
When: -1을 입력
Then: "반복 간격은 1 이상이어야 합니다." 오류 표시
```

### 검증 포인트 4: 소수점 입력

```
Given: 반복 간격 입력 필드
When: 1.5를 입력
Then: "반복 간격은 정수여야 합니다." 오류 표시
```

### 검증 포인트 5: 오류 시 저장 방지

```
Given: 오류가 있는 상태
When: 일정 추가 버튼 클릭
Then: 일정이 저장되지 않음
```

## 테스트 데이터

테스트에서 사용할 구체적인 데이터를 명시합니다.

| 입력값 | 예상 결과                                | 비고        |
| ------ | ---------------------------------------- | ----------- |
| 1      | 유효함                                   | 최소 유효값 |
| 2      | 유효함                                   | 정상 입력   |
| 10     | 유효함                                   | 정상 입력   |
| 0      | 오류: "반복 간격은 1 이상이어야 합니다." | 경계값      |
| -1     | 오류: "반복 간격은 1 이상이어야 합니다." | 음수        |
| -5     | 오류: "반복 간격은 1 이상이어야 합니다." | 음수        |
| 1.5    | 오류: "반복 간격은 정수여야 합니다."     | 소수점      |
| 2.7    | 오류: "반복 간격은 정수여야 합니다."     | 소수점      |

## 기술 참고사항

### 관련 타입

```typescript
interface RepeatInfo {
  type: RepeatType;
  interval: number;
  endDate?: string;
}
```

### 검증 규칙

- **타입**: 정수
- **범위**: 1 이상
- **기본값**: 1
- **오류 메시지**:
  - "반복 간격은 1 이상이어야 합니다." (0 이하)
  - "반복 간격은 정수여야 합니다." (소수점)

### 동작 명세

- 반복 간격은 1 이상의 정수만 허용한다.
- 기본값은 1이다.
- 0 이하의 값은 허용하지 않는다.
- 소수점은 허용하지 않는다.
- 오류가 있는 상태에서는 일정을 저장할 수 없다.

---
