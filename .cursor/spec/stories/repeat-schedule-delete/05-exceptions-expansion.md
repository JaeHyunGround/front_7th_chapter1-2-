---
epic: repeat-schedule-delete
test_suite: 반복 일정 삭제 - 예외 반영 확장
---

# Story: 예외 처리와 확장 반영

## 개요
시리즈에 예외(exceptions)로 등록된 날짜가 확장(expand) 결과에서 제외되어 동일 날짜에 중복 노출되지 않는지 검증합니다.

## Epic 연결
- **Epic**: 반복 일정 삭제
- **Epic 파일**: `.cursor/spec/epics/repeat-schedule-delete.md`
- **검증 포인트 출처**: 예상 동작 섹션 5) 예외 반영 확장 규칙

## 테스트 구조 및 범위
- **테스트 스위트 (Describe Block):** '반복 일정 삭제 - 예외 반영 확장'
  - **테스트 케이스 1:** exceptions에 포함된 날짜가 확장에서 제외됨
  - **테스트 케이스 2:** 동일 날짜에 단일 이벤트가 존재하는 경우 1건만 노출

## 검증 포인트 (Given-When-Then)
```
Given: repeat.exceptions = ['2025-11-05']인 매주 반복 시리즈
When: 2025-11-03 ~ 2025-11-09 주간 범위를 확장(expand)
Then: 2025-11-05 인스턴스는 생성되지 않음
```

## 테스트 데이터
| 필드              | 값            | 비고                       |
| ----------------- | ------------- | -------------------------- |
| repeat.exceptions | ['2025-11-05']| 예외 날짜                  |
| range             | 주간(11/03~09)| 확장 범위                  |

## 기술 참고사항
- 확장 로직은 `repeat.exceptions`에 포함된 날짜를 반드시 제외해야 함
- 단일 이벤트와 시리즈 인스턴스가 동일 날짜에 중복 노출되지 않도록 보장
