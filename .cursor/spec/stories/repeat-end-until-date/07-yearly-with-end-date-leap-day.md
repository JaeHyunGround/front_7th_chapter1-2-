---
epic: repeat-end-until-date
test_suite: repeat end date - yearly generation with leap day
---

# Story: 종료일 적용 - 매년 반복(윤년 2/29 특수 케이스)

## 개요
매년 반복 생성 시 시작일의 월/일이 존재하는 해에만 생성되며, 종료일까지(포함) 생성됨을 검증합니다. 윤년 2/29의 특수 케이스를 다룹니다.

## Epic 연결
- **Epic**: 반복 종료 - 특정 날짜까지 (Until Date)
- **Epic 파일**: `.cursor/spec/epics/repeat-end-until-date.md`
- **검증 포인트**: 예상 동작 섹션 7

## 테스트 구조 및 범위
- **테스트 스위트 (Describe Block):** 'repeat end date - yearly generation with leap day'
  - **테스트 케이스 1:** 2024-02-29 시작, 종료일 2025-12-31, 평년은 생성되지 않음

## 검증 포인트 (Given-When-Then)
```
Given: 시작일 2024-02-29(윤년), interval=1, endDate='2025-12-31'
When: 일정 생성
Then: 2024-02-29만 생성되고 2025년에는 생성되지 않음 (평년)
```

## 테스트 데이터
| 시작일     | 간격 | 종료일       | 예상 생성 날짜     |
| ---------- | ---- | ------------ | ------------------ |
| 2024-02-29 | 1    | 2025-12-31   | 2024-02-29만 생성 |

## 기술 참고사항
- 윤년 판별 규칙: 4로 나누어떨어짐(윤년), 단 100으로 나누어떨어지면 평년, 단 400으로 나누어떨어지면 윤년
- 해당 해에 날짜가 존재하지 않으면 생성하지 않음(변환 금지)
